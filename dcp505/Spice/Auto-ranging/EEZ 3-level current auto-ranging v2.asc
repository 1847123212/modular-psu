Version 4
SHEET 1 2592 1152
WIRE -816 -848 -816 -864
WIRE -784 -848 -816 -848
WIRE -672 -848 -704 -848
WIRE -592 -848 -672 -848
WIRE -480 -848 -512 -848
WIRE -384 -848 -480 -848
WIRE -272 -848 -304 -848
WIRE -224 -848 -272 -848
WIRE -224 -832 -224 -848
WIRE -816 -736 -816 -768
WIRE -640 -704 -1344 -704
WIRE 720 -704 -640 -704
WIRE -448 -672 -1344 -672
WIRE 752 -672 -448 -672
WIRE -240 -640 -1344 -640
WIRE 784 -640 -240 -640
WIRE -672 -608 -672 -848
WIRE -640 -608 -640 -704
WIRE -480 -608 -480 -848
WIRE -448 -608 -448 -672
WIRE -272 -608 -272 -848
WIRE -240 -608 -240 -640
WIRE -736 -576 -784 -576
WIRE -704 -576 -736 -576
WIRE -576 -576 -608 -576
WIRE -512 -576 -544 -576
WIRE -384 -576 -416 -576
WIRE -304 -576 -336 -576
WIRE -176 -576 -208 -576
WIRE -576 -560 -576 -576
WIRE -384 -560 -384 -576
WIRE -176 -560 -176 -576
WIRE 544 -544 544 -576
WIRE 544 -544 448 -544
WIRE 640 -544 544 -544
WIRE -736 -512 -736 -576
WIRE -544 -512 -544 -576
WIRE -544 -512 -736 -512
WIRE -336 -512 -336 -576
WIRE -336 -512 -544 -512
WIRE -672 -480 -672 -544
WIRE -480 -480 -480 -544
WIRE -480 -480 -672 -480
WIRE -272 -480 -272 -544
WIRE -272 -480 -480 -480
WIRE 80 -480 -80 -480
WIRE 192 -480 80 -480
WIRE 304 -480 192 -480
WIRE 384 -480 304 -480
WIRE 448 -480 448 -544
WIRE 544 -480 544 -544
WIRE 304 -448 304 -480
WIRE 640 -448 640 -464
WIRE -528 -432 -656 -432
WIRE -80 -400 -80 -480
WIRE -528 -384 -528 -432
WIRE -528 -384 -560 -384
WIRE -656 -368 -656 -432
WIRE -656 -368 -752 -368
WIRE -624 -368 -656 -368
WIRE 448 -368 448 -400
WIRE 448 -368 352 -368
WIRE 720 -368 720 -704
WIRE 720 -368 448 -368
WIRE 1248 -368 720 -368
WIRE -480 -352 -480 -480
WIRE -480 -352 -560 -352
WIRE 192 -320 192 -480
WIRE -80 -272 -80 -320
WIRE -1296 -256 -1296 -288
WIRE -1072 -256 -1104 -256
WIRE -960 -256 -992 -256
WIRE 544 -240 544 -400
WIRE 544 -240 240 -240
WIRE 752 -240 752 -672
WIRE 752 -240 544 -240
WIRE 1136 -240 752 -240
WIRE 80 -192 80 -480
WIRE -1168 -176 -1168 -256
WIRE -1104 -176 -1168 -176
WIRE -960 -176 -960 -256
WIRE -960 -176 -1040 -176
WIRE -944 -176 -960 -176
WIRE -800 -176 -864 -176
WIRE 640 -112 640 -384
WIRE 640 -112 128 -112
WIRE 672 -112 640 -112
WIRE 784 -112 784 -640
WIRE 784 -112 672 -112
WIRE -960 -96 -960 -176
WIRE -960 -96 -992 -96
WIRE -640 -96 -672 -96
WIRE -448 -96 -560 -96
WIRE -432 -96 -448 -96
WIRE -288 -96 -352 -96
WIRE -1296 -80 -1296 -176
WIRE -1296 -80 -1344 -80
WIRE -1280 -80 -1296 -80
WIRE -1168 -80 -1168 -176
WIRE -1168 -80 -1216 -80
WIRE -1056 -80 -1168 -80
WIRE -960 -64 -992 -64
WIRE 1136 -48 1136 -240
WIRE 1248 -48 1248 -368
WIRE -448 -32 -448 -96
WIRE -448 -32 -480 -32
WIRE 640 -32 640 -112
WIRE -672 -16 -672 -96
WIRE -544 -16 -672 -16
WIRE -176 -16 -224 -16
WIRE -64 -16 -96 -16
WIRE -16 -16 -64 -16
WIRE 304 -16 304 -352
WIRE 304 -16 64 -16
WIRE -416 0 -480 0
WIRE 1328 0 1312 0
WIRE -416 16 -416 0
WIRE -672 32 -672 -16
WIRE -672 32 -1344 32
WIRE 544 48 544 -240
WIRE 592 48 544 48
WIRE 1136 64 1136 48
WIRE 1248 64 1248 48
WIRE -288 80 -288 -96
WIRE -208 80 -288 80
WIRE -64 80 -64 -16
WIRE -64 80 -128 80
WIRE -16 80 -64 80
WIRE 192 80 192 -224
WIRE 192 80 64 80
WIRE 640 80 640 64
WIRE 1200 96 1200 0
WIRE 1328 96 1328 0
WIRE -960 112 -960 -64
WIRE 672 128 672 -112
WIRE -64 192 -64 80
WIRE -64 192 -96 192
WIRE -16 192 -64 192
WIRE 80 192 80 -96
WIRE 80 192 64 192
WIRE 384 192 384 -480
WIRE -576 208 -624 208
WIRE -544 208 -576 208
WIRE -288 208 -288 80
WIRE -288 208 -464 208
WIRE -160 208 -288 208
WIRE 448 208 448 -368
WIRE 624 208 448 208
WIRE -960 224 -960 192
WIRE -64 224 -96 224
WIRE 672 240 672 224
WIRE 80 256 80 192
WIRE 192 256 192 80
WIRE 304 256 304 -16
WIRE 1072 272 1024 272
WIRE 1328 272 1328 176
WIRE 1328 272 1152 272
WIRE 1024 288 1024 272
WIRE 688 304 672 304
WIRE 864 304 752 304
WIRE -576 320 -576 208
WIRE -576 320 -608 320
WIRE -800 336 -800 -176
WIRE -704 336 -704 208
WIRE -704 336 -800 336
WIRE -672 336 -704 336
WIRE -576 352 -608 352
WIRE 672 352 672 304
WIRE 752 352 672 352
WIRE 864 352 864 304
WIRE 864 352 832 352
WIRE -176 368 -208 368
WIRE -64 368 -64 224
WIRE -64 368 -96 368
WIRE -16 368 -64 368
WIRE 80 368 80 336
WIRE 80 368 64 368
WIRE 192 368 192 336
WIRE 192 368 80 368
WIRE 304 368 304 336
WIRE 304 368 192 368
WIRE 384 368 384 256
WIRE 384 368 304 368
WIRE -208 400 -208 368
WIRE 80 400 80 368
WIRE 304 400 80 400
WIRE 80 416 80 400
WIRE -752 464 -752 -368
WIRE -752 464 -784 464
WIRE -704 464 -752 464
WIRE -576 464 -576 352
WIRE -576 464 -624 464
WIRE -544 464 -576 464
WIRE -432 464 -464 464
WIRE 304 464 304 400
WIRE 480 464 304 464
WIRE 672 464 672 352
WIRE 672 464 560 464
WIRE 736 464 672 464
WIRE -1216 480 -1216 448
WIRE -1152 480 -1216 480
WIRE -1088 480 -1088 448
WIRE -1088 480 -1152 480
WIRE 864 480 864 352
WIRE 864 480 800 480
WIRE 912 480 864 480
WIRE 1024 480 1024 352
WIRE 1024 480 992 480
WIRE 1072 480 1024 480
WIRE -1152 496 -1152 480
WIRE -432 496 -432 464
WIRE 736 496 672 496
WIRE 1200 496 1200 176
WIRE 1200 496 1136 496
WIRE 1264 496 1200 496
WIRE 80 512 80 496
WIRE 144 512 80 512
WIRE 240 512 224 512
WIRE 672 512 672 496
WIRE 672 512 240 512
WIRE 1072 512 1024 512
WIRE 1200 528 1200 496
WIRE 1264 528 1264 496
WIRE 80 544 80 512
WIRE 912 576 896 576
WIRE 1024 576 1024 512
WIRE 1024 576 992 576
WIRE 352 592 304 592
WIRE 368 592 352 592
WIRE 480 592 448 592
WIRE 608 592 480 592
WIRE 816 592 688 592
WIRE 896 592 896 576
WIRE 896 592 816 592
WIRE 240 608 240 512
WIRE 1024 624 1024 576
WIRE 1040 624 1024 624
WIRE 1200 624 1200 592
WIRE 1200 624 1120 624
WIRE 1264 624 1264 608
WIRE 1264 624 1200 624
WIRE 480 656 480 592
WIRE 512 656 480 656
WIRE 816 672 816 592
WIRE 816 672 576 672
WIRE 512 688 464 688
WIRE 240 704 240 688
WIRE 464 704 464 688
WIRE 352 800 352 592
WIRE 368 800 352 800
WIRE 480 800 448 800
WIRE 608 800 480 800
WIRE 720 800 688 800
WIRE 864 816 864 480
WIRE 912 816 864 816
WIRE 1072 816 992 816
WIRE 1200 832 1136 832
WIRE 1264 832 1200 832
WIRE 1328 832 1328 272
WIRE 1328 832 1264 832
WIRE 1072 848 1024 848
WIRE 1264 848 1264 832
WIRE 480 880 480 800
WIRE 512 880 480 880
WIRE 1200 880 1200 832
WIRE 720 896 720 800
WIRE 720 896 576 896
WIRE 912 896 720 896
WIRE 1024 896 1024 848
WIRE 1024 896 992 896
WIRE 512 912 464 912
WIRE 464 928 464 912
WIRE 1024 944 1024 896
WIRE 1040 944 1024 944
WIRE 1200 944 1120 944
WIRE 1264 944 1264 928
WIRE 1264 944 1200 944
FLAG -1152 496 0
FLAG -1216 368 Vcc
FLAG -128 176 Vcc
FLAG -1088 368 Vee
FLAG -128 240 Vee
FLAG -80 -272 0
FLAG 80 544 0
FLAG 640 80 0
FLAG 672 240 0
FLAG 544 -576 Vcc
FLAG 768 448 Vcc
FLAG 768 512 Vee
FLAG 1104 464 Vcc
FLAG 1104 528 Vee
FLAG 1104 800 Vcc
FLAG 1104 864 Vee
FLAG 1248 64 0
FLAG 1136 64 0
FLAG -640 304 Vcc
FLAG -640 368 Vee
FLAG -432 496 0
FLAG -816 -736 0
FLAG -224 -832 0
FLAG -592 -400 Vcc
FLAG -592 -336 Vee
FLAG -1024 -112 Vcc
FLAG -1024 -48 Vee
FLAG -960 224 0
FLAG -1296 -288 Vcc
FLAG -1344 -80 I_CTRL
FLAG -512 -48 Vcc
FLAG -512 16 Vee
FLAG -416 16 0
FLAG -1344 32 I_MON
FLAG -1344 -704 CURR_5A
FLAG -1344 -672 CURR_500MA
FLAG -1344 -640 CURR_50MA
FLAG 544 640 Vcc
FLAG 544 704 Vee
FLAG 544 864 Vcc
FLAG 544 928 Vee
FLAG 464 928 0
FLAG 464 704 0
FLAG -816 -864 Vref
FLAG 304 592 Vref
FLAG -176 -560 0
FLAG -384 -560 0
FLAG -576 -560 0
FLAG -784 -576 Vcc
FLAG -784 464 CC_SHIFT
FLAG -208 400 0
FLAG 240 704 0
FLAG -224 -16 Vref
SYMBOL res 64 240 R0
SYMATTR InstName R1
SYMATTR Value 1R
SYMBOL res 176 240 R0
SYMATTR InstName R2
SYMATTR Value 0.1R
SYMBOL res 288 240 R0
SYMATTR InstName R3
SYMATTR Value 0.01R
SYMBOL res 80 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 3K
SYMBOL res 80 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 3K
SYMBOL res 80 -32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 3K
SYMBOL res -112 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 48K2
SYMBOL res 80 352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 1K
SYMBOL res -80 352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 48K2
SYMBOL voltage -1216 352 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage -1088 464 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL schottky 368 192 R0
SYMATTR InstName D1
SYMATTR Value MBRB2545CT
SYMBOL current -80 -320 R180
WINDOW 0 24 80 Left 2
WINDOW 3 -392 185 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Iload
SYMATTR Value PWL(10m 0 20m 50m 30m 500m 40m 5A)
SYMBOL res 64 400 R0
SYMATTR InstName R10
SYMATTR Value 0.01R
SYMBOL res 432 -496 R0
SYMATTR InstName R11
SYMATTR Value 1k
SYMBOL res 528 -496 R0
SYMATTR InstName R12
SYMATTR Value 1k
SYMBOL res 624 -560 R0
SYMATTR InstName R13
SYMATTR Value 1k
SYMBOL res 576 448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 1K
SYMBOL res 848 336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 500k
SYMBOL res 1008 464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 10k
SYMBOL res 1008 800 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 10k
SYMBOL diode 1008 288 R0
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL res 1168 256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 1k
SYMBOL res 1008 880 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value 100R
SYMBOL res 1008 560 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R22
SYMATTR Value 100R
SYMBOL res 1184 80 R0
SYMATTR InstName R25
SYMATTR Value 2k2
SYMBOL res 1312 80 R0
SYMATTR InstName R26
SYMATTR Value 2k2
SYMBOL pnp 1312 48 R180
WINDOW 0 25 43 Left 2
WINDOW 3 -58 97 Left 2
SYMATTR InstName Q1
SYMATTR Value BC556B
SYMBOL pnp 1200 48 R180
WINDOW 0 47 48 Left 2
WINDOW 3 76 115 Left 2
SYMATTR InstName Q2
SYMATTR Value BC556B
SYMBOL res 1136 608 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value 10k
SYMBOL cap 1184 528 R0
SYMATTR InstName C1
SYMATTR Value 10n
SYMBOL res 1136 928 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R21
SYMATTR Value 10K
SYMBOL cap 1184 880 R0
SYMATTR InstName C2
SYMATTR Value 10n
SYMBOL res -448 192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R23
SYMATTR Value 10k
SYMBOL res -608 192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R24
SYMATTR Value 10k
SYMBOL res -608 448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R27
SYMATTR Value 10k
SYMBOL res -448 448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R28
SYMATTR Value 10k
SYMBOL voltage -816 -864 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 0 -47 47 Right 2
WINDOW 3 -49 71 Right 2
SYMATTR InstName V4
SYMATTR Value 2.5
SYMBOL res -288 -864 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R29
SYMATTR Value 1k
SYMBOL res -496 -864 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R30
SYMATTR Value 1k
SYMBOL res -688 -864 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R31
SYMATTR Value 1k
SYMBOL voltage -960 96 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName I_SET
SYMATTR Value 1.5
SYMBOL res -848 -192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R32
SYMATTR Value 10k
SYMBOL res -976 -272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R33
SYMATTR Value 11k
SYMBOL cap -1104 -272 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 1n
SYMBOL diode -1104 -160 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL diode -1280 -64 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL res -1312 -272 R0
SYMATTR InstName R35
SYMATTR Value 5k
SYMBOL res -336 -112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R36
SYMATTR Value 10K
SYMBOL res -544 -112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R37
SYMATTR Value 30K
SYMBOL diode 624 -448 R0
SYMATTR InstName D5
SYMATTR Value 1N4148
SYMBOL res 704 576 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R38
SYMATTR Value 1k
SYMBOL res 464 784 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R39
SYMATTR Value 10k
SYMBOL res 704 784 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R40
SYMATTR Value 10k
SYMBOL res 464 576 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R41
SYMATTR Value 10k
SYMBOL CD4066 -656 -576 M90
WINDOW 0 -45 -22 VLeft 2
WINDOW 38 46 -10 VRight 2
SYMATTR InstName U11
SYMBOL CD4066 -464 -576 M90
WINDOW 0 -44 -23 VLeft 2
WINDOW 38 44 -13 VRight 2
SYMATTR InstName U12
SYMBOL CD4066 -256 -576 M90
WINDOW 0 -46 -21 VLeft 2
WINDOW 38 44 -7 VRight 2
SYMATTR InstName U13
SYMBOL res 240 496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R42
SYMATTR Value 1K
SYMBOL res 256 704 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R43
SYMATTR Value 500K
SYMBOL res -192 0 R270
WINDOW 3 0 56 VBottom 2
WINDOW 0 32 56 VTop 2
SYMATTR Value 7.5Meg
SYMATTR InstName R47
SYMBOL nmos 592 -32 R0
SYMATTR InstName M5
SYMATTR Value 2N7002
SYMBOL nmos 624 128 R0
SYMATTR InstName M4
SYMATTR Value 2N7002
SYMBOL Opamps\\opamp2 -1024 -144 M0
WINDOW 3 21 110 Left 2
SYMATTR Value MC33274/MC
SYMATTR InstName U14
SYMBOL Opamps\\opamp2 -592 -432 M0
WINDOW 3 21 110 Left 2
SYMATTR Value MC33274/MC
SYMATTR InstName U7
SYMBOL Opamps\\opamp2 -512 -80 M0
WINDOW 3 21 110 Left 2
SYMATTR Value MC33274/MC
SYMATTR InstName U6
SYMBOL Opamps\\opamp2 -640 272 M0
WINDOW 3 21 110 Left 2
SYMATTR Value MC33274/MC
SYMATTR InstName U8
SYMBOL Opamps\\opamp2 -128 144 M0
WINDOW 3 21 110 Left 2
SYMATTR Value MC33274/MC
SYMATTR InstName U5
SYMBOL Opamps\\opamp2 544 832 R0
WINDOW 3 21 110 Left 2
SYMATTR Value MC33274/MC
SYMATTR InstName U1
SYMBOL Opamps\\opamp2 1104 768 R0
WINDOW 3 26 35 Left 2
WINDOW 0 24 11 Left 2
SYMATTR Value MC33274/MC
SYMATTR InstName U10
SYMBOL Opamps\\opamp2 1104 432 R0
WINDOW 3 27 32 Left 2
WINDOW 0 25 8 Left 2
SYMATTR Value MC33274/MC
SYMATTR InstName U2
SYMBOL Opamps\\opamp2 768 416 R0
WINDOW 3 21 110 Left 2
SYMATTR Value MC33274/MC
SYMATTR InstName U3
SYMBOL Opamps\\opamp2 544 608 R0
WINDOW 3 21 110 Left 2
SYMATTR Value MC33274/MC
SYMATTR InstName U4
SYMBOL cap 752 288 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 0
SYMBOL res 1248 624 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R44
SYMATTR Value 1Meg
SYMBOL res 1248 944 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R45
SYMATTR Value 1Meg
SYMBOL nmos 240 -320 M0
WINDOW 0 56 12 Left 2
WINDOW 3 56 37 Left 2
SYMATTR InstName M1
SYMATTR Value IRLHM620
SYMBOL nmos 128 -192 M0
WINDOW 0 56 12 Left 2
WINDOW 3 56 37 Left 2
SYMATTR InstName M2
SYMATTR Value IRLHM620
SYMBOL nmos 352 -448 M0
WINDOW 0 56 12 Left 2
WINDOW 3 56 37 Left 2
SYMATTR InstName M3
SYMATTR Value IRLHM620
TEXT -1344 648 Left 2 !.tran 60m startup
TEXT -1424 120 Left 2 ;I SET ranges:\n0 - 0.833333 V = CURR_50MA range\n0.8333 - 1.6666 V = CURR_500MA range\n1.6666 - 2.5 V = CURR_5A range
TEXT 760 880 Left 2 ;-2V5
TEXT 712 608 Left 2 ;-250mV
TEXT -1344 616 Left 2 !.include cd4066.sub
TEXT -136 -840 Left 4 ;EEZ current auto-ranging simulation (50 mA / 500 mA / 5 A)\nMore info: www.envox.hr/eez or github.com/eez-open/modular-psu
TEXT -1416 -368 Left 2 ;Existing current control loop circuit
TEXT -1344 584 Left 2 !.inc motoramp.lib
RECTANGLE Normal -848 80 -1440 -384 2
